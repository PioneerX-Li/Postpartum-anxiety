<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MindSpace - Focus Timer</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@500&display=swap" rel="stylesheet">
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    
    <style>
        /* Custom Design Tokens for Notion/Apple Feel */
        :root {
            --bg-app: #F7F7F5; /* Notion stone background */
            --bg-card: #FFFFFF;
            --text-primary: #37352F;
            --text-secondary: #787774;
            --accent: #000000; /* Apple style pure black accent */
            --glass: rgba(255, 255, 255, 0.7);
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background-color: var(--bg-app);
            color: var(--text-primary);
            height: 100vh;
            overflow: hidden;
        }

        /* Smooth scrolling and scrollbar hiding */
        ::-webkit-scrollbar {
            width: 0px;
            background: transparent;
        }

        /* Apple-style glassmorphism utilities */
        .glass-panel {
            background: var(--glass);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid rgba(0,0,0,0.04);
        }

        /* Typography tweaks */
        .font-mono-nums {
            font-family: 'JetBrains Mono', monospace;
            font-variant-numeric: tabular-nums;
        }

        /* Animation for the breathing timer */
        @keyframes breathe {
            0% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.02); opacity: 0.9; }
            100% { transform: scale(1); opacity: 1; }
        }
        .timer-active {
            animation: breathe 4s infinite ease-in-out;
        }

        /* Custom toggle switch */
        .toggle-checkbox:checked {
            right: 0;
            border-color: #37352F;
        }
        .toggle-checkbox:checked + .toggle-label {
            background-color: #37352F;
        }
        
        /* Soft shadows */
        .shadow-apple {
            box-shadow: 0 4px 24px rgba(0,0,0,0.04), 0 1px 2px rgba(0,0,0,0.02);
        }
    </style>
</head>
<body class="flex antialiased selection:bg-gray-200 selection:text-black">

    <!-- Sidebar: Notion Style (Minimalist, Clean List) -->
    <aside class="w-64 flex flex-col justify-between p-4 border-r border-gray-200/60 bg-[#FBFBFA]">
        <div>
            <!-- Brand -->
            <div class="flex items-center gap-2 px-3 mb-8 mt-2">
                <div class="w-6 h-6 bg-black rounded-md flex items-center justify-center text-white">
                    <i data-lucide="sparkles" class="w-3 h-3"></i>
                </div>
                <span class="font-semibold text-lg tracking-tight">MindSpace</span>
            </div>

            <!-- Navigation -->
            <nav class="space-y-1">
                <a href="#" class="flex items-center gap-3 px-3 py-2 rounded-lg text-gray-500 hover:bg-gray-100 hover:text-gray-900 transition-all duration-200 group">
                    <i data-lucide="layout-grid" class="w-4 h-4 group-hover:scale-110 transition-transform"></i>
                    <span class="text-sm font-medium">工作台</span>
                </a>
                <a href="#" class="flex items-center gap-3 px-3 py-2 rounded-lg text-gray-500 hover:bg-gray-100 hover:text-gray-900 transition-all duration-200 group">
                    <i data-lucide="calendar" class="w-4 h-4 group-hover:scale-110 transition-transform"></i>
                    <span class="text-sm font-medium">日历</span>
                </a>
                <a href="#" class="flex items-center gap-3 px-3 py-2 rounded-lg text-gray-500 hover:bg-gray-100 hover:text-gray-900 transition-all duration-200 group">
                    <i data-lucide="file-text" class="w-4 h-4 group-hover:scale-110 transition-transform"></i>
                    <span class="text-sm font-medium">笔记</span>
                </a>
                <a href="#" class="flex items-center gap-3 px-3 py-2 rounded-lg text-gray-500 hover:bg-gray-100 hover:text-gray-900 transition-all duration-200 group">
                    <i data-lucide="heart" class="w-4 h-4 group-hover:scale-110 transition-transform"></i>
                    <span class="text-sm font-medium">重要日期</span>
                </a>
                
                <div class="pt-4 pb-2">
                    <p class="px-3 text-xs font-semibold text-gray-400 uppercase tracking-wider">专注工具</p>
                </div>

                <a href="#" class="flex items-center gap-3 px-3 py-2 rounded-lg bg-white shadow-sm border border-gray-200 text-black transition-all">
                    <i data-lucide="timer" class="w-4 h-4"></i>
                    <span class="text-sm font-medium">定时器</span>
                    <span class="ml-auto w-1.5 h-1.5 bg-green-500 rounded-full animate-pulse"></span>
                </a>
                <a href="#" class="flex items-center gap-3 px-3 py-2 rounded-lg text-gray-500 hover:bg-gray-100 hover:text-gray-900 transition-all duration-200 group">
                    <i data-lucide="hourglass" class="w-4 h-4 group-hover:scale-110 transition-transform"></i>
                    <span class="text-sm font-medium">倒计时</span>
                </a>
            </nav>
        </div>

        <!-- User Profile -->
        <div class="flex items-center gap-3 px-3 py-3 rounded-xl hover:bg-gray-100 cursor-pointer transition">
            <div class="w-8 h-8 rounded-full bg-gradient-to-br from-gray-700 to-black flex items-center justify-center text-white text-xs font-medium">
                王
            </div>
            <div class="flex-1 min-w-0">
                <p class="text-sm font-medium text-gray-900 truncate">王小明</p>
                <p class="text-xs text-gray-500 truncate">个人版</p>
            </div>
            <i data-lucide="more-horizontal" class="w-4 h-4 text-gray-400"></i>
        </div>
    </aside>

    <!-- Main Content -->
    <main class="flex-1 flex overflow-hidden">
        
        <!-- Center Workspace -->
        <div class="flex-1 p-8 flex flex-col gap-6 overflow-y-auto">
            
            <!-- Header / Breadcrumb -->
            <header class="flex items-center justify-between">
                <div>
                    <h1 class="text-2xl font-semibold text-[#37352F]">专注定时器</h1>
                    <p class="text-sm text-gray-500 mt-1">管理你的精力，而不是时间。</p>
                </div>
                <button class="p-2 rounded-full hover:bg-gray-200 transition text-gray-500">
                    <i data-lucide="settings-2" class="w-5 h-5"></i>
                </button>
            </header>

            <!-- Top Card: Current Task Status (Apple Style Card) -->
            <div class="bg-white rounded-2xl p-6 shadow-apple border border-gray-100 flex items-center justify-between relative overflow-hidden group">
                <div class="absolute top-0 left-0 w-1 h-full bg-black"></div> <!-- Active Indicator -->
                <div class="z-10">
                    <div class="flex items-center gap-2 mb-1 text-gray-500 text-xs font-medium uppercase tracking-wide">
                        <i data-lucide="zap" class="w-3 h-3 text-amber-500"></i>
                        进行中的任务
                    </div>
                    <h2 class="text-xl font-medium text-gray-900">产品交互设计评审文档</h2>
                    <p class="text-sm text-gray-400 mt-1">预计结束时间 21:22 · 还能休息 5 分钟</p>
                </div>
                
                <!-- Mini Progress Circle -->
                <div class="relative w-16 h-16 flex items-center justify-center">
                    <svg class="w-full h-full transform -rotate-90">
                        <circle cx="32" cy="32" r="28" stroke="#F3F4F6" stroke-width="4" fill="none" />
                        <circle cx="32" cy="32" r="28" stroke="#111827" stroke-width="4" fill="none" stroke-dasharray="175.9" stroke-dashoffset="40" stroke-linecap="round" />
                    </svg>
                    <span class="absolute text-xs font-bold text-gray-700">75%</span>
                </div>
            </div>

            <!-- Main Timer Area -->
            <div class="flex-1 grid grid-cols-1 lg:grid-cols-3 gap-6">
                
                <!-- Presets (Notion Style Toggles) -->
                <div class="lg:col-span-1 bg-white rounded-2xl p-6 shadow-apple border border-gray-100 flex flex-col justify-center">
                    <h3 class="text-sm font-medium text-gray-400 mb-4 uppercase tracking-wider">快速设定</h3>
                    
                    <div class="grid grid-cols-2 gap-3">
                        <button class="preset-btn px-4 py-3 rounded-xl bg-gray-50 hover:bg-gray-100 border border-transparent hover:border-gray-200 text-sm font-medium text-gray-700 transition-all duration-200 active:scale-95">
                            3 分钟
                        </button>
                        <button class="preset-btn px-4 py-3 rounded-xl bg-gray-50 hover:bg-gray-100 border border-transparent hover:border-gray-200 text-sm font-medium text-gray-700 transition-all duration-200 active:scale-95">
                            5 分钟
                        </button>
                        <button class="preset-btn px-4 py-3 rounded-xl bg-gray-50 hover:bg-gray-100 border border-transparent hover:border-gray-200 text-sm font-medium text-gray-700 transition-all duration-200 active:scale-95">
                            10 分钟
                        </button>
                        <button class="preset-btn px-4 py-3 rounded-xl bg-white border border-black text-black shadow-sm text-sm font-medium transition-all duration-200 active:scale-95">
                            25 分钟
                        </button>
                    </div>

                    <div class="mt-6 pt-6 border-t border-gray-100">
                        <label class="text-xs text-gray-400 mb-2 block">自定义 (分钟)</label>
                        <div class="flex gap-2">
                            <input type="number" value="45" class="w-full bg-gray-50 border border-gray-200 rounded-xl px-4 py-2 text-center font-mono-nums focus:outline-none focus:ring-2 focus:ring-black/10">
                            <button class="bg-black text-white rounded-xl px-4 hover:bg-gray-800 transition active:scale-95">
                                <i data-lucide="arrow-right" class="w-4 h-4"></i>
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Large Timer Display (Apple Style Cleanliness) -->
                <div class="lg:col-span-2 bg-white rounded-2xl p-8 shadow-apple border border-gray-100 flex flex-col items-center justify-center relative overflow-hidden">
                    <!-- Subtle background decoration -->
                    <div class="absolute top-0 right-0 w-64 h-64 bg-blue-50 rounded-full filter blur-3xl opacity-40 pointer-events-none transform translate-x-1/3 -translate-y-1/3"></div>
                    <div class="absolute bottom-0 left-0 w-64 h-64 bg-orange-50 rounded-full filter blur-3xl opacity-40 pointer-events-none transform -translate-x-1/3 translate-y-1/3"></div>

                    <div class="relative z-10 text-center">
                        <div class="text-9xl font-bold text-[#37352F] font-mono-nums tracking-tighter timer-display select-none" id="mainTimer">
                            24:59
                        </div>
                        <div class="flex items-center justify-center gap-2 mt-2 text-orange-500 font-medium text-sm bg-orange-50 px-3 py-1 rounded-full inline-flex mx-auto border border-orange-100">
                            <span class="w-2 h-2 bg-orange-500 rounded-full animate-ping"></span>
                            即将开始
                        </div>

                        <!-- Controls -->
                        <div class="flex items-center gap-4 mt-12">
                            <button class="w-14 h-14 rounded-full bg-gray-100 hover:bg-gray-200 text-gray-600 flex items-center justify-center transition active:scale-90" onclick="resetTimer()">
                                <i data-lucide="rotate-ccw" class="w-6 h-6"></i>
                            </button>
                            <button class="w-20 h-20 rounded-full bg-black hover:bg-gray-800 text-white flex items-center justify-center shadow-xl shadow-black/20 transition transform hover:-translate-y-1 active:translate-y-0 active:scale-95" id="toggleTimer">
                                <i data-lucide="play" class="w-8 h-8 ml-1" id="playIcon"></i>
                            </button>
                            <button class="w-14 h-14 rounded-full bg-gray-100 hover:bg-gray-200 text-gray-600 flex items-center justify-center transition active:scale-90">
                                <i data-lucide="volume-2" class="w-6 h-6"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Right Sidebar: Schedule (Glassmorphism / Timeline) -->
        <aside class="w-80 bg-[#FBFBFA] border-l border-gray-200/60 p-6 flex flex-col">
            <div class="flex items-center justify-between mb-8">
                <h3 class="font-semibold text-gray-900">今日日程</h3>
                <button class="text-xs bg-white border border-gray-200 px-2 py-1 rounded shadow-sm hover:bg-gray-50 transition">
                    Nov 20
                </button>
            </div>

            <!-- Timeline Container -->
            <div class="space-y-0 relative">
                <!-- Vertical Line -->
                <div class="absolute left-[19px] top-2 bottom-0 w-0.5 bg-gray-200"></div>

                <!-- Item 1: Past -->
                <div class="relative pl-10 pb-8 opacity-50 hover:opacity-100 transition duration-300">
                    <div class="absolute left-[13px] top-1.5 w-3.5 h-3.5 rounded-full border-2 border-gray-400 bg-[#FBFBFA] z-10"></div>
                    <div class="bg-white p-4 rounded-xl border border-gray-200 shadow-sm">
                        <div class="flex justify-between items-start mb-1">
                            <span class="text-sm font-bold text-gray-800">晨间会议</span>
                            <span class="text-xs text-gray-400 font-mono-nums">09:00</span>
                        </div>
                        <div class="flex gap-2 mt-2">
                            <span class="text-[10px] px-2 py-0.5 bg-gray-100 text-gray-500 rounded">沟通</span>
                            <span class="text-[10px] px-2 py-0.5 bg-gray-100 text-gray-500 rounded">30m</span>
                        </div>
                    </div>
                </div>

                <!-- Item 2: Current (Active) -->
                <div class="relative pl-10 pb-8">
                    <!-- Pulsing Dot -->
                    <div class="absolute left-[13px] top-1.5 w-3.5 h-3.5 rounded-full bg-black z-10 ring-4 ring-gray-200"></div>
                    <div class="bg-white p-4 rounded-xl border border-gray-200 shadow-apple transform scale-105 transition origin-left">
                        <div class="flex justify-between items-start mb-1">
                            <span class="text-sm font-bold text-gray-900">App 交互设计</span>
                            <span class="text-xs text-blue-600 font-bold font-mono-nums">18:27</span>
                        </div>
                        <p class="text-xs text-gray-500 mt-1 line-clamp-1">完善 Notion 风格的 UI 组件库</p>
                        <div class="flex gap-2 mt-3">
                            <span class="text-[10px] px-2 py-0.5 bg-blue-50 text-blue-600 rounded font-medium">工作</span>
                            <span class="text-[10px] px-2 py-0.5 bg-orange-50 text-orange-600 rounded font-medium">2h 55m</span>
                        </div>
                        <!-- Progress Bar inside Card -->
                        <div class="mt-3 w-full bg-gray-100 rounded-full h-1.5 overflow-hidden">
                            <div class="bg-black h-full rounded-full w-2/3"></div>
                        </div>
                    </div>
                </div>

                <!-- Item 3: Future -->
                <div class="relative pl-10 pb-8">
                    <div class="absolute left-[13px] top-1.5 w-3.5 h-3.5 rounded-full border-2 border-gray-300 bg-white z-10"></div>
                    <div class="bg-transparent p-4 rounded-xl border border-dashed border-gray-300 hover:bg-white hover:border-solid hover:shadow-sm transition group cursor-pointer">
                        <div class="flex justify-between items-start mb-1">
                            <span class="text-sm font-medium text-gray-500 group-hover:text-gray-800">阅读与复盘</span>
                            <span class="text-xs text-gray-400 font-mono-nums">21:22</span>
                        </div>
                        <div class="flex gap-2 mt-2">
                            <span class="text-[10px] px-2 py-0.5 bg-gray-100 text-gray-400 rounded">个人</span>
                        </div>
                    </div>
                </div>
                
                <!-- Add Button -->
                <div class="relative pl-10">
                     <button class="w-full py-2 border-2 border-dashed border-gray-200 rounded-lg text-gray-400 text-sm hover:border-gray-400 hover:text-gray-600 transition flex items-center justify-center gap-2">
                        <i data-lucide="plus" class="w-4 h-4"></i> 添加日程
                     </button>
                </div>

            </div>
        </aside>
    </main>

    <script>
        // Initialize Lucide Icons
        lucide.createIcons();

        // Simple Timer Logic for demo
        let timeLeft = 25 * 60; // 25 minutes in seconds
        let timerId = null;
        let isRunning = false;

        const timerDisplay = document.getElementById('mainTimer');
        const toggleBtn = document.getElementById('toggleTimer');
        const playIcon = document.getElementById('playIcon');

        function formatTime(seconds) {
            const m = Math.floor(seconds / 60);
            const s = seconds % 60;
            return `${m.toString().padStart(2, '0')}:${s.toString().padStart(2, '0')}`;
        }

        function updateDisplay() {
            timerDisplay.textContent = formatTime(timeLeft);
            document.title = `${formatTime(timeLeft)} - MindSpace`;
        }

        function startTimer() {
            if (!isRunning) {
                isRunning = true;
                playIcon.setAttribute('data-lucide', 'pause'); // Note: In real app, need to re-render icon
                // Hacky icon switch for vanilla JS demo without re-rendering library
                toggleBtn.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-pause w-8 h-8"><rect width="4" height="16" x="6" y="4"/><rect width="4" height="16" x="14" y="4"/></svg>';
                
                timerId = setInterval(() => {
                    if (timeLeft > 0) {
                        timeLeft--;
                        updateDisplay();
                    } else {
                        clearInterval(timerId);
                        isRunning = false;
                        alert("Focus session complete!");
                    }
                }, 1000);
            } else {
                // Pause
                clearInterval(timerId);
                isRunning = false;
                toggleBtn.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-play w-8 h-8 ml-1"><polygon points="5 3 19 12 5 21 5 3"/></svg>';
            }
        }

        function resetTimer() {
            clearInterval(timerId);
            isRunning = false;
            timeLeft = 25 * 60;
            updateDisplay();
            toggleBtn.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-play w-8 h-8 ml-1"><polygon points="5 3 19 12 5 21 5 3"/></svg>';
        }

        toggleBtn.addEventListener('click', startTimer);

        // Preset Buttons Logic
        document.querySelectorAll('.preset-btn').forEach(btn => {
            btn.addEventListener('click', (e) => {
                // Visual selection
                document.querySelectorAll('.preset-btn').forEach(b => {
                    b.classList.remove('ring-2', 'ring-black', 'bg-white', 'shadow-sm');
                    b.classList.add('bg-gray-50');
                });
                e.target.classList.remove('bg-gray-50');
                e.target.classList.add('bg-white', 'ring-2', 'ring-black', 'shadow-sm');

                // Set time logic
                const text = e.target.innerText;
                const mins = parseInt(text);
                if(!isNaN(mins)) {
                    timeLeft = mins * 60;
                    updateDisplay();
                    // If timer was running, restart it with new time
                    if(isRunning) {
                        clearInterval(timerId);
                        isRunning = false; // trigger start logic properly
                        startTimer();
                    }
                }
            });
        });

        updateDisplay();
    </script>
</body>
</html>
